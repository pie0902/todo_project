{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditArticle(){const{id}=useParams();const navigate=useNavigate();const[article,setArticle]=useState({title:'',content:''});useEffect(()=>{const fetchArticle=async()=>{const token=localStorage.getItem('token');const response=await fetch(\"/api/articles/\".concat(id),{headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok){console.error(\"Failed to fetch article details.\");return;}const data=await response.json();setArticle(data);};fetchArticle();},[id]);const handleSubmit=async event=>{event.preventDefault();const token=localStorage.getItem('token');const response=await fetch(\"/api/articles/\".concat(id),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(article)});if(!response.ok){console.error(\"Failed to update the article.\");return;}navigate(\"/board/articles/\".concat(id));// 수정 후 상세 페이지로 리다이렉션\n};const handleChange=event=>{const{name,value}=event.target;setArticle(prevArticle=>({...prevArticle,[name]:value}));};return/*#__PURE__*/_jsx(\"div\",{className:\"article-edit-page\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uC81C\\uBAA9:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:article.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uB0B4\\uC6A9:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",value:article.content,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uAE00 \\uC218\\uC815\"})]})});}export default EditArticle;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","EditArticle","id","navigate","article","setArticle","title","content","fetchArticle","token","localStorage","getItem","response","fetch","concat","headers","ok","console","error","data","json","handleSubmit","event","preventDefault","method","body","JSON","stringify","handleChange","name","value","target","prevArticle","className","children","onSubmit","type","onChange"],"sources":["/Users/jongilyun/Desktop/Spring/todo_veiw/src/components/editArticle.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nfunction EditArticle() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [article, setArticle] = useState({ title: '', content: '' });\n\n  useEffect(() => {\n    const fetchArticle = async () => {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/articles/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        console.error(\"Failed to fetch article details.\");\n        return;\n      }\n\n      const data = await response.json();\n      setArticle(data);\n    };\n    fetchArticle();\n  }, [id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n    const response = await fetch(`/api/articles/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify(article)\n    });\n\n    if (!response.ok) {\n      console.error(\"Failed to update the article.\");\n      return;\n    }\n\n    navigate(`/board/articles/${id}`); // 수정 후 상세 페이지로 리다이렉션\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setArticle(prevArticle => ({ ...prevArticle, [name]: value }));\n  };\n\n  return (\n      <div className=\"article-edit-page\">\n        <form onSubmit={handleSubmit}>\n          <label>\n            제목:\n            <input type=\"text\" name=\"title\" value={article.title} onChange={handleChange} />\n          </label>\n          <label>\n            내용:\n            <textarea name=\"content\" value={article.content} onChange={handleChange} />\n          </label>\n          <button type=\"submit\">글 수정</button>\n        </form>\n      </div>\n  );\n}\n\nexport default EditArticle;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,CAAEY,KAAK,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAC,CAAC,CAElEd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kBAAAC,MAAA,CAAkBZ,EAAE,EAAI,CAClDa,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYL,KAAK,CAClC,CACF,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACI,EAAE,CAAE,CAChBC,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAC,CACjD,OACF,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCf,UAAU,CAACc,IAAI,CAAC,CAClB,CAAC,CACDX,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACN,EAAE,CAAC,CAAC,CAER,KAAM,CAAAmB,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACpCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAd,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kBAAAC,MAAA,CAAkBZ,EAAE,EAAI,CAClDsB,MAAM,CAAE,KAAK,CACbT,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAD,MAAA,CAAYL,KAAK,CAClC,CAAC,CACDgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACvB,OAAO,CAC9B,CAAC,CAAC,CAEF,GAAI,CAACQ,QAAQ,CAACI,EAAE,CAAE,CAChBC,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,CAC9C,OACF,CAEAf,QAAQ,oBAAAW,MAAA,CAAoBZ,EAAE,CAAE,CAAC,CAAE;AACrC,CAAC,CAED,KAAM,CAAA0B,YAAY,CAAIN,KAAK,EAAK,CAC9B,KAAM,CAAEO,IAAI,CAAEC,KAAM,CAAC,CAAGR,KAAK,CAACS,MAAM,CACpC1B,UAAU,CAAC2B,WAAW,GAAK,CAAE,GAAGA,WAAW,CAAE,CAACH,IAAI,EAAGC,KAAM,CAAC,CAAC,CAAC,CAChE,CAAC,CAED,mBACIhC,IAAA,QAAKmC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChClC,KAAA,SAAMmC,QAAQ,CAAEd,YAAa,CAAAa,QAAA,eAC3BlC,KAAA,UAAAkC,QAAA,EAAO,eAEL,cAAApC,IAAA,UAAOsC,IAAI,CAAC,MAAM,CAACP,IAAI,CAAC,OAAO,CAACC,KAAK,CAAE1B,OAAO,CAACE,KAAM,CAAC+B,QAAQ,CAAET,YAAa,CAAE,CAAC,EAC3E,CAAC,cACR5B,KAAA,UAAAkC,QAAA,EAAO,eAEL,cAAApC,IAAA,aAAU+B,IAAI,CAAC,SAAS,CAACC,KAAK,CAAE1B,OAAO,CAACG,OAAQ,CAAC8B,QAAQ,CAAET,YAAa,CAAE,CAAC,EACtE,CAAC,cACR9B,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,qBAAI,CAAQ,CAAC,EAC/B,CAAC,CACJ,CAAC,CAEZ,CAEA,cAAe,CAAAjC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}